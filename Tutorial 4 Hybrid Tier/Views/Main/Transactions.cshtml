@{
    ViewBag.Title = "Transaction Page";
}

<form>
    <label>Search my Account</label><br />
    <input type="text" id="amount" name="amount" placeholder="Amount" /><br /><br />
    <input type="text" id="senderID" name="senderID" placeholder="Sender ID" /><br /><br />
    <input type="text" id="receiverID" name="receiverID" placeholder="Receiver ID" /><br /><br />
</form>
<button id="submitBtn" onclick="CompleteTransaction()">Complete Transaction</button>
<br />
<script>

    function CompleteTransaction() {
        console.log("Create Transaction");
        $.ajax({
            url: "api/BankApi/CreateTransaction/" + $("#amount").val() + "/" + $("#senderID").val() + "/" + $("#receiverID").val(),
            type: 'post',
            contentType: 'application/json',
            processData: false,
            success: function (data, textStatus, jQxhr) {
                console.log(textStatus);
                alert("Transaction from: " + $("#senderID").val() + " to " + $("#receiverID").val() + " was successful");
            },
            error: function (jqXhr, textStatus, errorThrown) {
                console.log(errorThrown)
                alert("Invalid data entered for transaction, please try again");
                $("#amount").val("Amount");
                $("#senderID").val("Sender ID");
                $("#receiverID").val("Receiver ID");

            }
        })
    }
    </script>
